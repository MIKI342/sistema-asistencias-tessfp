<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario Residencia Profesional</title>
 <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f7f7;
            color: #333;
        }
        h1, h2 {
            margin-top: 20px;
        }
        form {
            background-color: #fff;
            padding: 20px;
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        input, select {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        button {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>

</head>
<body>
    
    <form action="/procesar-formulario-residencia" method="POST" onsubmit="return validarFormulario()">
        <h1>Formulario para Residencia Profesional</h1>
        <h2>Datos de la Entidad Receptora</h2>
        <label for="razon_social">Razón Social:</label>
        <input type="text" id="razon_social" name="razon_social" required><br><br>
        <label for="rfc_cct">RFC o CCT:</label>
        <input type="text" id="rfc_cct" name="rfc_cct" required pattern="^[A-ZÑ&]{3,4}\d{6}(?:[A-Z\d]{3})?$" title="Ingrese un RFC válido"><br><br>
        <label for="direccion">Dirección:</label>
        <input type="text" id="direccion" name="direccion" required><br><br>
        <label for="codigo_postal">Código Postal:</label>
        <input type="text" id="codigo_postal" name="codigo_postal" required pattern="^\d{5}$" title="Ingrese un código postal válido"><br><br>
        <label for="colonia">Colonia:</label>
        <input type="text" id="colonia" name="colonia" required><br><br>
        <label for="municipio">Municipio:</label>
        <input type="text" id="municipio" name="municipio" required><br><br>
        <label for="estado">Estado:</label>
        <input type="text" id="estado" name="estado" required><br><br>
        <label for="tipo_dependencia">Tipo de Dependencia:</label>
        <select id="tipo_dependencia" name="tipo_dependencia" required>
            <option value="">Seleccione una opción</option>
            <option value="Pública">Pública</option>
            <option value="Privada">Privada</option>
            <option value="Mismo Tecnológico">Mismo Tecnológico</option>
        </select><br><br>

        <h2>Persona a Quien se le Dirige la Carta de Presentación</h2>
        <label for="grado_academico">Grado Académico:</label>
        <input type="text" id="grado_academico" name="grado_academico" required><br><br>
        <label for="nombre_persona">Nombre:</label>
        <input type="text" id="nombre_persona" name="nombre_persona" required><br><br>
        <label for="cargo_puesto">Cargo o Puesto:</label>
        <input type="text" id="cargo_puesto" name="cargo_puesto" required><br><br>

        <h2>Responsable de los Estudiantes de Residencia Profesional / Prácticas Profesionales en la Entidad Receptora</h2>
        <label for="nombre_responsable">Nombre:</label>
        <input type="text" id="nombre_responsable" name="nombre_responsable" required><br><br>
        <label for="cargo_responsable">Cargo:</label>
        <input type="text" id="cargo_responsable" name="cargo_responsable" required><br><br>
        <label for="contacto_responsable">Número de Contacto:</label>
        <input type="text" id="contacto_responsable" name="contacto_responsable" required pattern="^\d{10}$" title="Ingrese un número de teléfono válido (10 dígitos)"><br><br>
        <label for="email_responsable">Correo Electrónico:</label>
        <input type="email" id="email_responsable" name="email_responsable" required><br><br>

        <h2>Datos del Estudiante</h2>

        <div class="form-group">
            <label for="nombre"><strong>Nombre:</strong></label>
            <input type="text" class="form-control bg-transparent" id="nombre" name="nombre" required>
        </div>

        <div class="form-group">
            <label for="ap"><strong>Apellido paterno:</strong></label>
            <input type="text" class="form-control bg-transparent" id="ap" name="ap" required>
        </div>

        <div class="form-group">
            <label for="am"><strong>Apellido materno:</strong></label>
            <input type="text" class="form-control bg-transparent" id="am" name="am" required>
        </div>
       
        <div class="form-group">
            <label for="matricula"><strong>Matrícula:</strong></label>
            <input type="text" class="form-control bg-transparent" id="matricula" name="matricula" required pattern="^[A-Za-z0-9]+$" title="La matrícula solo debe contener letras y números">
        </div>

        <div class="form-group">
            <label for="carrera"><strong>Carrera:</strong></label>
            <input type="text" class="form-control bg-transparent" id="carrera" name="carrera" required>
        </div>

        <div class="form-group">
            <label for="g"><strong>Grupo:</strong></label>
            <input type="number" class="form-control bg-transparent" id="g" name="g" required min="1" title="Ingrese un número de grupo válido">
        </div>

        <div class="form-group" style="display: none;">
            <label for="evento"><strong>Evento:</strong></label>
            <input type="text" class="form-control bg-transparent" id="evento" name="evento" value="residencia" required>
        </div>
        
        <label for="semestre">Semestre:</label>
        <input type="text" id="semestre" name="semestre" required><br><br>
        <label for="grupo">Grupo:</label>
        <input type="text" id="grupo" name="grupo" required><br><br>
        <label for="total_creditos">Total de Créditos:</label>
        <input type="number" id="total_creditos" name="total_creditos" required min="0" max="300" title="Ingrese un número de créditos válido"><br><br>
        <label for="promedio">Promedio:</label>
        <input type="text" id="promedio" name="promedio" required pattern="^\d+(\.\d{1,2})?$" title="Ingrese un promedio válido (por ejemplo, 9.5)"><br><br>
        <label for="telefono_estudiante">Teléfono:</label>
        <input type="text" id="telefono_estudiante" name="telefono_estudiante" required pattern="^\d{10}$" title="Ingrese un número de teléfono válido (10 dígitos)"><br><br>
        <label for="email_estudiante">Correo Electrónico:</label>
        <input type="email" id="email_estudiante" name="email_estudiante" required><br><br>
        <label for="direccion_referencia">Dirección o Referencia:</label>
        <input type="text" id="direccion_referencia" name="direccion_referencia" required><br><br>
        <label for="colonia_estudiante">Colonia/Localidad:</label>
        <input type="text" id="colonia_estudiante" name="colonia_estudiante" required><br><br>
        <label for="municipio_estudiante">Municipio:</label>
        <input type="text" id="municipio_estudiante" name="municipio_estudiante" required><br><br>
        <label for="estado_estudiante">Estado:</label>
        <input type="text" id="estado_estudiante" name="estado_estudiante" required><br><br>
        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required><br><br>
        <label for="nss_imss">NSS o IMSS:</label>
        <input type="text" id="nss_imss" name="nss_imss" required><br><br>

        <button type="submit">Confirmar asistencia</button>
        <button onclick="window.history.back()">Regresar</button> <!-- Botón para regresar -->
    

    </form>

    <script>
        window.onload = function() {
            // Obtener los parámetros de la URL
            const urlParams = new URLSearchParams(window.location.search);

            // Obtener los valores de los parámetros
            const nombre = urlParams.get('nombre') || '';
            const ap = urlParams.get('ap') || '';
            const am = urlParams.get('am') || '';
            const matricula = urlParams.get('matricula') || '';
            const carrera = urlParams.get('carrera') || '';
            const g = urlParams.get('g') || '';
            const evento = urlParams.get('evento') || '';

            // Asignar los valores a los campos del formulario
            document.getElementById('nombre').value = nombre;
            document.getElementById('ap').value = ap;
            document.getElementById('am').value = am;
            document.getElementById('matricula').value = matricula;
            document.getElementById('carrera').value = carrera;
            document.getElementById('g').value = g;
            document.getElementById('evento').value = evento;
        };

        function validarFormulario() {
            const fechaInicio = document.getElementById('fecha_inicio').value;
            const fechaTermino = document.getElementById('fecha_termino').value;
            
            if (new Date(fechaInicio) > new Date(fechaTermino)) {
                alert("La fecha de inicio no puede ser mayor que la fecha de término.");
                return false;
            }
            return true;
        }
    </script>
</body>
</html>
